<ion-content class="color">
  <div class="box">
    <ion-toolbar color="transparent">
      <ion-buttons slot="start">
        <ion-button (click)="close()">
          <ion-icon slot="icon-only" name="close"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-title>
        {{title}}
      </ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="form.reset()">
          <ion-icon slot="icon-only" name="refresh-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </div>
  <div class="main">
    <form [formGroup]="form">
      <ion-row>
        <ion-col size="12">
          <ion-item fill="outline" class="ion-margin-bottom">
            <ion-label>
              <p>
                محل آدرس
              </p>
            </ion-label>
            <ion-select formControlName="addressType" okText="انتخاب" cancelText="بستن">
              <ion-select-option *ngFor="let addressType of addressTypes, let i = index"
                                 [value]="addressType.value">{{addressType.name}}</ion-select-option>
            </ion-select>
          </ion-item>
          <ng-container *ngFor="let validation of validation_messages.addressType">
            <div class="error-message"
                 *ngIf="form.get('addressType')?.hasError(validation.type) && (form.get('addressType')?.dirty || form.get('addressType')?.touched)">
              {{ validation.message }}
            </div>
          </ng-container>
        </ion-col>


        <ion-col size="12">
          <ion-item fill="outline" class="ion-margin-bottom">
            <ion-label>
              آدرس پستی
            </ion-label>
            <ion-textarea formControlName="postalAddress"></ion-textarea>
          </ion-item>
          <ng-container *ngFor="let validation of validation_messages.postalAddress">
            <div class="error-message"
                 *ngIf="form.get('postalAddress')?.hasError(validation.type) && (form.get('postalAddress')?.dirty || form.get('postalAddress')?.touched)">
              {{ validation.message }}
            </div>
          </ng-container>
        </ion-col>

        <ion-col size="12">
          <ion-item fill="outline" class="ion-margin-bottom">
            <ion-label>
              کدپستی
            </ion-label>
            <ion-input type="tel" formControlName="postalCode"></ion-input>
          </ion-item>
          <ng-container *ngFor="let validation of validation_messages.postalCode">
            <div class="error-message"
                 *ngIf="form.get('postalCode')?.hasError(validation.type) && (form.get('postalCode')?.dirty || form.get('postalCode')?.touched)">
              {{ validation.message }}
            </div>
          </ng-container>
        </ion-col>

        <ion-col>
          <ion-item fill="outline" class="ion-margin-bottom">
            <ion-label>
              تلفن
            </ion-label>
            <ion-input type="tel" formControlName="telephone"></ion-input>
          </ion-item>
          <ng-container *ngFor="let validation of validation_messages.telephone">
            <div class="error-message"
                 *ngIf="form.get('telephone')?.hasError(validation.type) && (form.get('telephone')?.dirty || form.get('telephone')?.touched)">
              {{ validation.message }}
            </div>
          </ng-container>
        </ion-col>

      </ion-row>

    </form>
  </div>
</ion-content>
<ion-footer>
  <ion-toolbar class="ion-padding-horizontal">
    <ion-button (click)="onAddAddress()" expand="block" [disabled]="!form.valid">
      {{title}}
    </ion-button>
  </ion-toolbar>
</ion-footer>

